# 公网服务器运维小记

## 获取服务器

可以通过自建/购买的方式获取服务器。

### 自建服务器

通过虚拟机/空闲设备搭建服务器，缺点就是没有公网 IP，只能在内网中访问。如果你想要公网 IP，你可以向当地的运营商申请，或者是把机器托管在 IDC 数据中心里边，就是价格有点小贵。

如果你不需要独立公网 IP，可以使用内网穿透等方式让自己的服务器在公网上可以被访问。

### 购买服务器

购买服务器可以通过小厂或者大厂（如腾讯、阿里云等），如果你想要稳定，个人建议从大厂里边购买机子会好很多，但是大厂的机器一般比小厂的价格贵很多。


> [!TIP]
> 注: 大部分虚拟主机都是 1-10 元一年，闲鱼上边一大堆。

购买 IDC 的服务器之前先看 IDC 对服务器有什么限制，这些都要问清楚。另外不推荐买端口机，大部分 IDC 的端口机都不允许建站，买了也只能跑跑程序啥的，限制太多了。

以下表格均按一个月价格计算：

| 预算多少 | 建站服务 | 后端服务 | 文件服务 | 运行程序 | 服务稳定 | 独立IP | |
| - | - | - | - | - | - | - | - |
| 0 | 是 | 无 | 无 | 无 | 无 | 无 | GitHub Pages |
| 0 | 是 | 是 | 无 | 无 | 无 | 无 | Vercel |
| ≤1 | 是 | 是 | 是 | 无 | 无 | 无 | 虚拟主机 |
| ≤25 | 是 | 是 | 是 | 是 | 无 | 无 | 端口机 |
| ≤40 | 是 | 是 | 是 | 是 | 无 | 是 | 小厂云服务器 |
| ≥50 | 是 | 是 | 是 | 是 | 是 | 是 | 大厂云服务器 |

## Windows Server & Linux 区别

以我自己的感受来说，Windows Server 的性能比 Linux 性能要差很多，Windows Server 主要就是图形化操作，Linux 是命令行操作。Linux 系统我比较推荐 ~~Rocky Linux、Alpine Linux、~~ Ubuntu。不是很推荐使用 Arch Linux 系统作为服务器使用。

## Windows Server & Linux 配置建议

我没有运维 Windows Server 公网服务器的经验，这里就只说 Linux 了。

如果你买的是端口机，就是只开放几个端口的机子，这种机子没有公网 IP，配置 Fail2ban 的话还有可能把自己给封掉，建议给 SSH 配置个复杂的密码或者配置成 SSH 密钥登录，当然你也可以开个 VPN 服务，用于访问机子的内网，这样还能扩展端口。

如果你的机子有公网 IP，建议配置个 Fail2ban，网络上有很多坏 b 喜欢扫你机子，暴力破解 SSH 密码。防火墙一定要打开，装个管理面板最好。

Tips: 修改 SSH 端口可以杜绝 99% 的若只爆破你 SSH 端口。
